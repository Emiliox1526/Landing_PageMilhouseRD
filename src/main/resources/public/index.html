<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Inicio | MILHOUSE RD</title>
    <!-- Bootstrap CSS + Icons -->
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
    />
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
            rel="stylesheet"
    />


    <!-- Google Fonts: Montserrat para cuerpo, Cinzel para títulos -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet">
    <!-- CSS Global -->
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/hero.css">
    <link rel="stylesheet" href="css/slider.css">
    <link rel="stylesheet" href="css/modal.css">
    <link rel="stylesheet" href="css/index.css"/>
    <link rel="stylesheet" href="css/portfolio.css">
    <link rel="stylesheet" href="css/contact.css">
    <link rel="stylesheet" href="css/team.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="css/services.css">

    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

    <!-- Fuentes adicionales -->
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js" defer></script>

    <!-- Ajuste para ocultar scroll bar y permitir auto-scroll suave -->
    <style>
        /* ===== Fuente (Montserrrat en TODO el sitio) ===== */
        @import url("https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&display=swap");
        :root{
            /* Bootstrap usa estas vars: las apuntamos a Montserrat */
            --bs-font-sans-serif: "Montserrat", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
            --bs-body-font-family: var(--bs-font-sans-serif);

            /* Tokens MilhouseRD */
            --mh-ink:#0B1220;
            --mh-navy:#0F1B2D;
            --mh-navy-2:#142742;
            --mh-gold:#C7A252;
            --mh-line:#E7EBF3;
            --mh-bg:#E7EBF3;
        }

        /* Forzamos familia en los componentes comunes (por si algo hereda distinto) */
        html, body,
        h1,h2,h3,h4,h5,h6,
        .btn,.badge,.form-control,.form-select,.pagination,.card,.modal,.nav-link,
        .seg-btn,.chip,.price-badge,.location,.meta,.title { font-family: var(--bs-font-sans-serif) !important; color: var(--mh-ink); }

        /* ===== Sección Propiedades ===== */
        .properties{ background:var(--mh-bg) !important; padding:2rem 0; }

        /* ===== Filtros ===== */
        #filtersCol{ position:sticky; top:88px; align-self:flex-start; }
        .filters-card .card-header{ background:transparent; border:0; padding:0 0 .75rem; }
        .filters-card .title{ font-weight:800; color:var(--mh-ink); margin:0; }
        .filters-card .form-label{ font-family: var(--bs-font-sans-serif); font-weight:500; color:var(--mh-navy); }

        /* Inputs / selects modernos */
        .mh-input,.mh-select{
            border-radius:14px !important;
            border:1.5px solid var(--mh-line) !important;
            background:#fff !important;
            box-shadow:none !important;
            padding:.62rem .85rem !important;
            font-weight:600; color:var(--mh-ink);
        }
        .mh-input:focus,.mh-select:focus{
            outline:0; border-color:transparent !important;
            box-shadow:0 0 0 3px rgba(15,27,45,.12) !important;
        }

        /* Select con flecha custom */
        .mh-select{
            appearance:none;
            background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23142742' viewBox='0 0 16 16'><path d='M4.646 6.646a.5.5 0 0 1 .708 0L8 9.293l2.646-2.647a.5.5 0 0 1 .708.708L8.354 10.354a.5.5 0 0 1-.708 0L4.646 7.354a.5.5 0 0 1 0-.708z'/></svg>");
            background-repeat:no-repeat; background-position:right .8rem center; background-size:16px 16px;
            padding-right:2.2rem !important;
        }

        /* Botón primario en marca */
        .btn-primary{
            background:linear-gradient(135deg,var(--mh-navy),var(--mh-navy-2)) !important;
            color: #fff;
            border-radius: 1.25rem;
            border:0 !important;
        }
        .btn-primary:hover{ filter:brightness(1.05); }
        .btn-secondary{
            background: linear-gradient(135deg, var(--mh-blue), var(--mh-navy-gradient));
            color: #fff;
            border-radius: 1.25rem;
            border:0 !important;
        }
        .btn-secondary:hover{ filter:brightness(1.05); }
        /* ===== Toolbar + Segmented pills ===== */
        .toolbar-card .card-body{ padding:.8rem 1rem; }
        .ta-toolbar label{ font-weight:500; color:var(--mh-navy); }

        .segmented{
            display:flex; flex-wrap:wrap; gap:.5rem;
            background:#f1f3f7; border:1.5px solid #e3e7ef; border-radius:9999px; padding:.35rem;
        }
        .seg-btn{
            border:0; background:transparent; border-radius:9999px;
            padding:.45rem .9rem; font-weight:500; color:#23324a; cursor:pointer; opacity:.9;
        }
        .seg-btn[aria-pressed="true"]{
            background:linear-gradient(135deg,var(--mh-navy),var(--mh-navy-2));
            color:#fff; opacity:1;
        }

        /* Oculta <select> originales pero deja accesibilidad/eventos */
        .visually-hidden{
            position:absolute !important; width:1px; height:1px; padding:0; margin:-1px;
            overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
        }

        /* ===== Tarjetas de propiedad ===== */
        .prop-card,
        .properties #propertiesContainer .card{
            border:0; border-radius:20px; background:#fff;
            box-shadow:0 6px 20px rgba(16,24,40,.06);
            overflow:hidden; transition:transform .2s ease, box-shadow .2s ease;
        }
        .prop-card:hover,
        .properties #propertiesContainer .card:hover{
            transform:translateY(-4px);
            box-shadow:0 12px 28px rgba(16,24,40,.10);
        }

        /* Media */
        .prop-card .media,
        .properties #propertiesContainer .card .media{
            position:relative; aspect-ratio:4/3; overflow:hidden;
        }
        .prop-card .media img,
        .properties #propertiesContainer .card img{
            width:100%; height:100%; object-fit:cover; display:block; transition:transform .5s ease;
        }
        .prop-card:hover .media img,
        .properties #propertiesContainer .card:hover img{ transform:scale(1.04); }

        /* Precio */
        .prop-card .price-badge,
        .properties #propertiesContainer .card .price-badge{
            position:absolute; left:12px; bottom:12px;
            padding:.35rem .6rem; border-radius:999px;
            font-weight:800; font-size:.95rem; color:#fff;
            background:linear-gradient(135deg,var(--mh-navy),var(--mh-navy-2));
            box-shadow:0 6px 18px rgba(16,24,40,.25);
        }

        /* Favorito */
        .prop-card .fav,
        .properties #propertiesContainer .card .fav{
            position:absolute; top:10px; right:10px; width:38px; height:38px; border-radius:50%;
            display:grid; place-items:center; background:rgba(255,255,255,.85);
            border:1px solid rgba(16,24,40,.08); backdrop-filter:blur(6px); cursor:pointer;
        }
        .prop-card .fav i,
        .properties #propertiesContainer .card .fav i{ font-size:1.05rem; }
        .prop-card .fav.active i,
        .properties #propertiesContainer .card .fav.active i{ color:#e11d48; }

        /* Cuerpo */
        .prop-card .card-body{ padding:14px 14px 16px; }
        .prop-card .title{ font-size:clamp(1rem,.9rem + .3vw,1.1rem); font-weight:800; line-height:1.2; margin:0 0 .25rem; color:var(--mh-ink); }
        .prop-card .location{ color:#6b7280; font-size:.9rem; display:flex; align-items:center; gap:.35rem; }

        /* Chips */
        .prop-card .chips{ display:flex; flex-wrap:wrap; gap:.4rem; margin:.6rem 0 .2rem; }
        .prop-card .chip{
            display:inline-flex; align-items:center; gap:.35rem;
            padding:.28rem .6rem; border-radius:999px;
            background:#f4f6fa; border:1px solid var(--mh-line);
            font-size:.78rem; font-weight:700; color:#334155;
        }

        /* Meta */
        .prop-card .meta{ display:grid; grid-template-columns:repeat(3,1fr); gap:.5rem; margin:.75rem 0 0; }
        .prop-card .meta .item{ display:flex; align-items:center; gap:.35rem; font-size:.88rem; color:#0f1b2d; }
        .prop-card .meta i{ font-size:1rem; color:#64748b; }

        /* Actions */
        .prop-card .actions{ display:flex; align-items:center; justify-content:space-between; gap:.5rem; margin-top:.9rem; }
        .prop-card .btn{ border-radius:10px; font-weight:700; }

        /* ===== Paginación ===== */
        .ta-pagination .page-link{
            border-radius:999px; border:1.5px solid var(--mh-line);
            background:#fff; font-weight:700;
        }
        .ta-pagination .page-item + .page-item .page-link{ margin-left:.4rem; }
        .ta-pagination .page-item.active .page-link{
            color:#fff; background:linear-gradient(135deg,var(--mh-navy),var(--mh-navy-2)); border-color:transparent;
        }
        .ta-pagination .page-item.disabled .page-link{
            background:#f4f6fa; color:#9aa1b3; border-color:var(--mh-line);
        }

        /* ===== Responsive ===== */
        @media (max-width:575.98px){
            .prop-card .meta{ grid-template-columns:repeat(2,1fr); }
        }
        /* HERO: título y descripción en blanco */
        .hero-overlay h1,
        .hero-overlay p{
            color: #fff !important;
        }

        /* (opcional) legibilidad sobre fotos */
        .hero-overlay h1{ text-shadow: 0 2px 16px rgba(0,0,0,.35); }
        .hero-overlay p { text-shadow: 0 1px 12px rgba(0,0,0,.25); }
    </style>


</head>

<body>
<!-- HEADER -->
<!-- Header incluido -->
<div id="header-container"></div>
<script src="js/includeHeader.js" defer></script>


<!-- MAIN -->
<main>
    <!-- HERO SECTION -->
    <section class="hero fade-in">
        <div class="hero-slider" id="dynamic-slider"></div>

        <!--  ← inserta aquí tu botón -->
        <a class="nav-link hero-btn" href="#properties" id="heroVerPropiedades">
            <!-- SVG + texto -->
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" width="24" height="24" fill="currentColor">
                <path d="M244-204h116v-238.5h240V-204h116v-355L480-736 244-559v355Zm-75 75v-467.5L480-830l311 233.67V-129H525v-238.5h-90V-129H169Zm311-341Z"/>
            </svg>
            Ver listado de propiedades
        </a>

        <div class="slider-dots" id="slider-dots"></div>
        <button class="hero-arrow hero-arrow-left" id="prev-slide">
            <ion-icon name="chevron-back-outline"></ion-icon>
        </button>
        <button class="hero-arrow hero-arrow-right" id="next-slide">
            <ion-icon name="chevron-forward-outline"></ion-icon>
        </button>
    </section>


    <!-- FEATURED PROJECTS SECTION -->
    <section class="featured-projects fade-in fullwidth">
        <div class="container">
            <h2>Nuestras propiedades</h2>


        </div>
    </section>


    <!-- PROPERTIES -->
    <section class="properties" id="properties">
        <div class="container">
            <div class="row">
                <!-- Filtros -->
                <aside class="col-lg-3 mb-3" id="filtersCol">
                    <div class="section-card filters-card">
                        <div class="card-header"><h3 class="title">Filtrar búsqueda</h3></div>
                        <div class="card-body">
                            <form id="filtersForm" class="row g-3 align-items-end" novalidate>
                                <div class="col-12">
                                    <label for="q" class="form-label">Buscar</label>
                                    <input id="q" type="search" class="form-control mh-input" placeholder="Título, sector, ciudad…">
                                </div>

                                <div class="col-12">
                                    <label for="fType" class="form-label">Tipo de Propiedad</label>
                                    <select id="fType" class="form-select mh-select">
                                        <option value="">Todos</option>
                                        <option>Apartamento</option>
                                        <option>Casa</option>
                                        <option>Penthouse</option>
                                        <option>Terreno</option>
                                        <option>Solares</option>
                                        <option>Villa</option>
                                        <option>Local</option>
                                    </select>
                                </div>

                                <div class="col-12">
                                    <label for="fSaleType" class="form-label">Transacción</label>
                                    <select id="fSaleType" class="form-select mh-select">
                                        <option value="">Venta / Alquiler</option>
                                        <option>Venta</option>
                                        <option>Alquiler</option>
                                    </select>
                                </div>

                                <div class="col-12">
                                    <label class="form-label">Rango de precio</label>
                                    <div class="row g-2">
                                        <div class="col-6"><input id="fMin" type="number" class="form-control mh-input" min="0" step="1000" placeholder="Mínimo"></div>
                                        <div class="col-6"><input id="fMax" type="number" class="form-control mh-input" min="0" step="1000" placeholder="Máximo"></div>
                                    </div>
                                </div>

                                <div class="col-12 d-grid gap-2">
                                    <button class="btn btn-primary" type="submit">Filtrar</button>
                                    <button class="btn btn-secondary" id="resetFilters" type="button">Reestablecer</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </aside>

                <!-- Listado -->
                <div class="col-lg-9">
                    <!-- Toolbar -->
                    <div class="section-card toolbar-card mb-3">
                        <div class="card-body d-flex justify-content-between align-items-center flex-wrap gap-2 ta-toolbar">


                            <!-- Segmented pills (Orden + Página) -->
                            <div class="d-flex flex-wrap align-items-center gap-3">
                                <div class="d-flex flex-column gap-1">
                                    <span class="small fw-bold text-muted">Orden</span>
                                    <div id="sortSegment" class="segmented" role="group" aria-label="Ordenar">
                                        <button type="button" class="seg-btn" data-sort="createdAt-desc" aria-pressed="true">Recientes</button>
                                        <button type="button" class="seg-btn" data-sort="price-asc">Precio ↑</button>
                                        <button type="button" class="seg-btn" data-sort="price-desc">Precio ↓</button>
                                        <button type="button" class="seg-btn" data-sort="area-asc">Área ↑</button>
                                        <button type="button" class="seg-btn" data-sort="area-desc">Área ↓</button>
                                    </div>
                                </div>

                                <div class="d-flex flex-column gap-1">
                                    <span class="small fw-bold text-muted">Por página</span>
                                    <div id="pageSizeSegment" class="segmented" role="group" aria-label="Por página">
                                        <button type="button" class="seg-btn" data-size="6">6</button>
                                        <button type="button" class="seg-btn" data-size="9" aria-pressed="true">9</button>
                                        <button type="button" class="seg-btn" data-size="12">12</button>
                                        <button type="button" class="seg-btn" data-size="18">18</button>
                                    </div>
                                </div>

                                <!-- <select> originales (ocultos) para que index.js siga funcionando -->
                                <label class="visually-hidden" for="sortBy">Orden</label>
                                <select id="sortBy" class="visually-hidden">
                                    <option value="createdAt-desc" selected>Más recientes</option>
                                    <option value="price-asc">Precio ↑</option>
                                    <option value="price-desc">Precio ↓</option>
                                    <option value="area-desc">Área ↓</option>
                                    <option value="area-asc">Área ↑</option>
                                </select>

                                <label class="visually-hidden" for="pageSize">Por página</label>
                                <select id="pageSize" class="visually-hidden">
                                    <option value="6">6</option>
                                    <option value="9" selected>9</option>
                                    <option value="12">12</option>
                                    <option value="18">18</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Tarjetas -->
                    <div id="propertiesContainer" class="row g-3"></div>

                    <!-- Paginación -->
                    <div class="section-card mt-3">
                        <div class="card-body">
                            <nav aria-label="Paginación">
                                <ul id="pagination" class="pagination ta-pagination justify-content-center mb-0"></ul>
                            </nav>
                        </div>
                    </div>
                </div> <!-- /col-lg-9 -->
            </div> <!-- /row -->
        </div>
    </section>


    </div>
        </div>
    </section>



    <!-- MODAL (proyectos) -->
    <div id="project-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="modal-title"></h2>
            <p id="modal-description"></p>
            <div class="video-container">
                <video id="modal-video" controls>
                    <source id="modal-video-source" src="" type="video/mp4">
                    Tu navegador no soporta el elemento de video.
                </video>
            </div>
            <p id="modal-location"></p>
        </div>
    </div>
</main>

<!-- FOOTER -->
<div id="footer-container"></div>
<script src="js/includeFooter.js" defer></script>

<!-- HEADER BG ON SCROLL -->
<script>
    (function() {
        const header = document.querySelector("header");
        if (!header) return;

        // parsea "rgb(...)" o "rgba(...)" y devuelve [r,g,b]
        function parseRGB(str) {
            const nums = str.match(/\d+/g);
            return nums ? nums.slice(0,3).map(Number) : [255,255,255];
        }

        function updateHeaderTextColor() {
            const bg = getComputedStyle(header).backgroundColor;
            const [r,g,b] = parseRGB(bg);
            // luminancia relativa (0 oscuro → 1 claro)
            const lum = (0.299*r + 0.587*g + 0.114*b) / 255;
            if (lum < 0.5) {
                header.classList.add("dark-bg");
                header.classList.remove("light-bg");
            } else {
                header.classList.add("light-bg");
                header.classList.remove("dark-bg");
            }
        }

        function onScroll() {
            const o = Math.min(window.scrollY / 300, 0.9);
            header.style.backgroundColor = `rgba(0,0,0,${o})`;
            updateHeaderTextColor();
        }

        window.addEventListener("scroll", onScroll);
        // iniciar estado al cargar
        onScroll();
    })();
</script>

<!-- HERO SLIDER JS -->
<script>

    const sliderContainer = document.getElementById("dynamic-slider");
    const dotsContainer   = document.getElementById("slider-dots");
    let currentSlide = 0;

    function renderSlides() {
        sliderContainer.innerHTML = "";
        dotsContainer  .innerHTML = "";

        sliderImages.forEach((src, i) => {
            // Extraemos el nombre de la carpeta: la segunda parte de "assets/CARPETA/archivo"
            const parts = src.split("/");
            const projectName = parts.length > 1 ? parts[1] : `Proyecto ${i+1}`;

            const slide = document.createElement("div");
            slide.className = "slide" + (i === 0 ? " active" : "");
            slide.innerHTML = `
  <img class="hero-image" src="${src}" alt="Slide ${i+1}">
  <div class="hero-overlay">
    <h1>${projectName}</h1>
    <p>Posible ubicación ${i + 1}?</p>

  </div>
`;


            sliderContainer.appendChild(slide);

            const dot = document.createElement("span");
            dot.className = "dot" + (i === 0 ? " active" : "");
            dot.addEventListener("click", () => goToSlide(i));
            dotsContainer.appendChild(dot);
        });
    }

    function goToSlide(idx) {
        const slides = sliderContainer.querySelectorAll(".slide");
        const dots   = dotsContainer.querySelectorAll(".dot");
        slides[currentSlide].classList.remove("active");
        dots  [currentSlide].classList.remove("active");
        currentSlide = idx;
        slides[currentSlide].classList.add("active");
        dots  [currentSlide].classList.add("active");
    }

    document.getElementById("prev-slide")
        .addEventListener("click", () =>
            goToSlide((currentSlide - 1 + sliderImages.length) % sliderImages.length)
        );

    document.getElementById("next-slide")
        .addEventListener("click", () =>
            goToSlide((currentSlide + 1) % sliderImages.length)
        );

    renderSlides();
</script>






<!-- Ionicons -->
<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

<!-- JS General -->
<script src="./js/app.js"></script>
<script src="./js/index.js"></script>
</body>
</html>